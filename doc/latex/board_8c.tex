\hypertarget{board_8c}{
\section{src/board.c File Reference}
\label{board_8c}\index{src/board.c@{src/board.c}}
}
{\ttfamily \#include $<$stdlib.h$>$}\par
{\ttfamily \#include $<$stdio.h$>$}\par
{\ttfamily \#include $<$string.h$>$}\par
{\ttfamily \#include $<$stdbool.h$>$}\par
{\ttfamily \#include \char`\"{}global\_\-const.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}board.h\char`\"{}}\par
Include dependency graph for board.c:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{board_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{board_8c_a638155d3ce2a053895a9c626e480b4f6}{get\_\-label\_\-x} (int i, char x\mbox{[}$\,$\mbox{]})
\item 
void \hyperlink{board_8c_acdcf055eb485579afb015abf054f66d8}{get\_\-label\_\-y\_\-left} (int i, char x\mbox{[}$\,$\mbox{]})
\item 
void \hyperlink{board_8c_a1d09579c09a783962a8d29005552e5c1}{get\_\-label\_\-y\_\-right} (int j, char y\mbox{[}$\,$\mbox{]})
\item 
bool \hyperlink{board_8c_a16e95d81990e946e33bf1b2a9d75bc80}{is\_\-hoshi} (int i, int j)
\item 
void \hyperlink{board_8c_ac70f31e9f413033ba999d4eccb459cb5}{init\_\-board} (int wanted\_\-board\_\-size)
\begin{DoxyCompactList}\small\item\em Allocates memory for all board data structures. \item\end{DoxyCompactList}\item 
void \hyperlink{board_8c_a96dcf44b26f99e5b5f3ebfaa31bf7162}{free\_\-board} (void)
\item 
void \hyperlink{board_8c_ac82f164590b043f9ef44c37ecca4acb0}{get\_\-board\_\-as\_\-string} (char board\_\-output\mbox{[}$\,$\mbox{]})
\item 
int \hyperlink{board_8c_aa870bb6580c6bce8bb91da8682f8bbf7}{get\_\-board\_\-size} (void)
\item 
void \hyperlink{board_8c_ad0341838fa4fa4d4279c5f050cf96feb}{set\_\-vertex} (int color, int i, int j)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int $\ast$$\ast$ \hyperlink{board_8c_af47ada0fcdb12bc1fe48c1eaef29e1a3}{board}
\item 
bool $\ast$$\ast$ \hyperlink{board_8c_ae5779438e79e100a9d0e3ec5270b127e}{hoshi}
\item 
int \hyperlink{board_8c_a1220b475fc44e0a5dcb883e811d1834f}{board\_\-size} = 0
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{board_8c_a96dcf44b26f99e5b5f3ebfaa31bf7162}{
\index{board.c@{board.c}!free\_\-board@{free\_\-board}}
\index{free\_\-board@{free\_\-board}!board.c@{board.c}}
\subsubsection[{free\_\-board}]{\setlength{\rightskip}{0pt plus 5cm}void free\_\-board (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}
\label{board_8c_a96dcf44b26f99e5b5f3ebfaa31bf7162}


Definition at line 100 of file board.c.




\begin{DoxyCode}
                      {
    int i;

    for ( i = 0; i < board_size; i++ ) {
        free(board[i]);
        free(hoshi[i]);
    }
    free(board);
    free(hoshi);

    return;
}
\end{DoxyCode}


\hypertarget{board_8c_ac82f164590b043f9ef44c37ecca4acb0}{
\index{board.c@{board.c}!get\_\-board\_\-as\_\-string@{get\_\-board\_\-as\_\-string}}
\index{get\_\-board\_\-as\_\-string@{get\_\-board\_\-as\_\-string}!board.c@{board.c}}
\subsubsection[{get\_\-board\_\-as\_\-string}]{\setlength{\rightskip}{0pt plus 5cm}void get\_\-board\_\-as\_\-string (
\begin{DoxyParamCaption}
\item[{char}]{ board\_\-output\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}
\label{board_8c_ac82f164590b043f9ef44c37ecca4acb0}


Definition at line 122 of file board.c.




\begin{DoxyCode}
                                                {
    int i; // Index for x-axis
    int j; // Index for y-axis
    char x[3];      // Label for x-axis
    char y[2];      // Label for y-axis

    board_output[0] = '\0';
    strcat( board_output, "\n" );

    /* Print uppercase letters above the board */
    strcat( board_output, "   " );
    for ( i = 0; i < board_size; i++ ) {
        get_label_x( i, x );
        strcat( board_output, " " );
        strcat( board_output, x );
    }
    strcat( board_output, "\n" );

    for ( j = board_size - 1; j >= 0; j-- ) {

        /* Print numbers left of board */
        get_label_y_left( j, y );
        strcat( board_output, " " );
        strcat( board_output, y );

        /* Print board fields */
        for ( i = 0; i < board_size; i++ ) {
            strcat( board_output, " " );
            switch ( board[i][j] ) {
                case WHITE:
                    strcat( board_output, WHITE_STONE );
                    break;
                case BLACK:
                    strcat( board_output, BLACK_STONE );
                    break;
                case EMPTY:
                    switch ( is_hoshi( i, j ) ) {
                        case true:
                            strcat( board_output, FIELD_HOSHI );
                            break;
                        case false:
                            strcat( board_output, FIELD_EMPTY );
                            break;
                    }
                    break;
            }
        }

        /* Print numbers right of board */
        get_label_y_right( j, y );
        strcat( board_output,  " " );
        strcat( board_output,    y );
        strcat( board_output, "\n" );
    }

    /* Print uppercase letters below board */
    strcat( board_output, "   " );
    for ( i = 0; i < board_size; i++ ) {
        get_label_x( i, x );
        strcat( board_output, " " );
        strcat( board_output, x );
    }

    return;
}
\end{DoxyCode}


\hypertarget{board_8c_aa870bb6580c6bce8bb91da8682f8bbf7}{
\index{board.c@{board.c}!get\_\-board\_\-size@{get\_\-board\_\-size}}
\index{get\_\-board\_\-size@{get\_\-board\_\-size}!board.c@{board.c}}
\subsubsection[{get\_\-board\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}int get\_\-board\_\-size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}
\label{board_8c_aa870bb6580c6bce8bb91da8682f8bbf7}


Definition at line 234 of file board.c.




\begin{DoxyCode}
                         {

    return board_size;
}
\end{DoxyCode}


\hypertarget{board_8c_a638155d3ce2a053895a9c626e480b4f6}{
\index{board.c@{board.c}!get\_\-label\_\-x@{get\_\-label\_\-x}}
\index{get\_\-label\_\-x@{get\_\-label\_\-x}!board.c@{board.c}}
\subsubsection[{get\_\-label\_\-x}]{\setlength{\rightskip}{0pt plus 5cm}void get\_\-label\_\-x (
\begin{DoxyParamCaption}
\item[{int}]{ i, }
\item[{char}]{ x\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}
\label{board_8c_a638155d3ce2a053895a9c626e480b4f6}


Definition at line 188 of file board.c.




\begin{DoxyCode}
                                    {

    if ( i >= 8 ) {
        i++;
    }
    i += 65;
    x[0] = (char) i;
    x[1] = '\0';

    return;
}
\end{DoxyCode}


\hypertarget{board_8c_acdcf055eb485579afb015abf054f66d8}{
\index{board.c@{board.c}!get\_\-label\_\-y\_\-left@{get\_\-label\_\-y\_\-left}}
\index{get\_\-label\_\-y\_\-left@{get\_\-label\_\-y\_\-left}!board.c@{board.c}}
\subsubsection[{get\_\-label\_\-y\_\-left}]{\setlength{\rightskip}{0pt plus 5cm}void get\_\-label\_\-y\_\-left (
\begin{DoxyParamCaption}
\item[{int}]{ i, }
\item[{char}]{ x\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}
\label{board_8c_acdcf055eb485579afb015abf054f66d8}


Definition at line 200 of file board.c.




\begin{DoxyCode}
                                         {

    j++;

    y[0] = (char)(int)( j / 10 + 48 );
    y[1] = (char)( j % 10 + 48 );
    y[2] = '\0';
    if ( y[0] == '0' ) {
        y[0] = ' ';
    }

    return;
}
\end{DoxyCode}


\hypertarget{board_8c_a1d09579c09a783962a8d29005552e5c1}{
\index{board.c@{board.c}!get\_\-label\_\-y\_\-right@{get\_\-label\_\-y\_\-right}}
\index{get\_\-label\_\-y\_\-right@{get\_\-label\_\-y\_\-right}!board.c@{board.c}}
\subsubsection[{get\_\-label\_\-y\_\-right}]{\setlength{\rightskip}{0pt plus 5cm}void get\_\-label\_\-y\_\-right (
\begin{DoxyParamCaption}
\item[{int}]{ j, }
\item[{char}]{ y\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}
\label{board_8c_a1d09579c09a783962a8d29005552e5c1}


Definition at line 214 of file board.c.




\begin{DoxyCode}
                                          {

    j++;

    y[0] = (char)(int)( j / 10 + 48 );
    y[1] = (char)( j % 10 + 48 );
    y[2] = '\0';
    if ( y[0] == '0' ) {
        y[0] = y[1];
        y[1] = '\0';
    }

    return;
}
\end{DoxyCode}


\hypertarget{board_8c_ac70f31e9f413033ba999d4eccb459cb5}{
\index{board.c@{board.c}!init\_\-board@{init\_\-board}}
\index{init\_\-board@{init\_\-board}!board.c@{board.c}}
\subsubsection[{init\_\-board}]{\setlength{\rightskip}{0pt plus 5cm}void init\_\-board (
\begin{DoxyParamCaption}
\item[{int}]{ wanted\_\-board\_\-size}
\end{DoxyParamCaption}
)}}
\label{board_8c_ac70f31e9f413033ba999d4eccb459cb5}


Allocates memory for all board data structures. 

Allocates memory for the data structures board and hoshi. Its sets the board fields to EMPTY and sets the correct hoshi points depending on board size.


\begin{DoxyParams}{Parameters}
\item[\mbox{\tt[in]} {\em wanted\_\-board\_\-size}]Integer of intended board size \end{DoxyParams}
\begin{DoxyReturn}{Returns}
nothing 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{[}n/a\mbox{]}
\end{DoxySeeAlso}
\begin{Desc}
\item[\hyperlink{todo__todo000001}{Todo}]A size check has to be implemented probably. \end{Desc}


Definition at line 33 of file board.c.




\begin{DoxyCode}
{
    int i, j;

    board_size = wanted_board_size;

    board = malloc( board_size * sizeof(int *) );
    hoshi = malloc( board_size * sizeof(bool *) );
    if ( board == NULL || hoshi == NULL ) {
        fprintf( stderr, "Failed to malloc memory");
        exit(EXIT_FAILURE);
    }

    for ( i = 0; i < board_size; i++ ) {
        board[i] = malloc( board_size * sizeof(int) );
        hoshi[i] = malloc( board_size * sizeof(bool) );
        if ( board[i] == NULL || hoshi[i] == NULL ) {
            fprintf( stderr, "Failed to malloc memory");
            exit(EXIT_FAILURE);
        }

        for ( j = 0; j < board_size; j++ ) {
            board[i][j] = EMPTY;
            hoshi[i][j] = false;
        }
    }

    switch (board_size) {
        case 19:
            hoshi[3][3]   = true;
            hoshi[3][9]   = true;
            hoshi[3][15]  = true;
            hoshi[9][3]   = true;
            hoshi[9][9]   = true;
            hoshi[9][15]  = true;
            hoshi[15][3]  = true;
            hoshi[15][9]  = true;
            hoshi[15][15] = true;
            break;
        case 13:
            hoshi[3][3] = true;
            hoshi[3][9] = true;
            hoshi[9][3] = true;
            hoshi[9][9] = true;
            hoshi[6][6] = true;
            break;
        case 9:
            hoshi[2][2] = true;
            hoshi[2][6] = true;
            hoshi[6][2] = true;
            hoshi[6][6] = true;
            hoshi[4][4] = true;
            break;
    }

    return;
}
\end{DoxyCode}


\hypertarget{board_8c_a16e95d81990e946e33bf1b2a9d75bc80}{
\index{board.c@{board.c}!is\_\-hoshi@{is\_\-hoshi}}
\index{is\_\-hoshi@{is\_\-hoshi}!board.c@{board.c}}
\subsubsection[{is\_\-hoshi}]{\setlength{\rightskip}{0pt plus 5cm}bool is\_\-hoshi (
\begin{DoxyParamCaption}
\item[{int}]{ i, }
\item[{int}]{ j}
\end{DoxyParamCaption}
)}}
\label{board_8c_a16e95d81990e946e33bf1b2a9d75bc80}


Definition at line 229 of file board.c.




\begin{DoxyCode}
                              {

    return hoshi[i][j];
}
\end{DoxyCode}


\hypertarget{board_8c_ad0341838fa4fa4d4279c5f050cf96feb}{
\index{board.c@{board.c}!set\_\-vertex@{set\_\-vertex}}
\index{set\_\-vertex@{set\_\-vertex}!board.c@{board.c}}
\subsubsection[{set\_\-vertex}]{\setlength{\rightskip}{0pt plus 5cm}void set\_\-vertex (
\begin{DoxyParamCaption}
\item[{int}]{ color, }
\item[{int}]{ i, }
\item[{int}]{ j}
\end{DoxyParamCaption}
)}}
\label{board_8c_ad0341838fa4fa4d4279c5f050cf96feb}


Definition at line 239 of file board.c.




\begin{DoxyCode}
                                           {

    board[i][j] = color;

    return;
}
\end{DoxyCode}




\subsection{Variable Documentation}
\hypertarget{board_8c_af47ada0fcdb12bc1fe48c1eaef29e1a3}{
\index{board.c@{board.c}!board@{board}}
\index{board@{board}!board.c@{board.c}}
\subsubsection[{board}]{\setlength{\rightskip}{0pt plus 5cm}int$\ast$$\ast$ {\bf board}}}
\label{board_8c_af47ada0fcdb12bc1fe48c1eaef29e1a3}


Definition at line 9 of file board.c.

\hypertarget{board_8c_a1220b475fc44e0a5dcb883e811d1834f}{
\index{board.c@{board.c}!board\_\-size@{board\_\-size}}
\index{board\_\-size@{board\_\-size}!board.c@{board.c}}
\subsubsection[{board\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf board\_\-size} = 0}}
\label{board_8c_a1220b475fc44e0a5dcb883e811d1834f}


Definition at line 12 of file board.c.

\hypertarget{board_8c_ae5779438e79e100a9d0e3ec5270b127e}{
\index{board.c@{board.c}!hoshi@{hoshi}}
\index{hoshi@{hoshi}!board.c@{board.c}}
\subsubsection[{hoshi}]{\setlength{\rightskip}{0pt plus 5cm}bool$\ast$$\ast$ {\bf hoshi}}}
\label{board_8c_ae5779438e79e100a9d0e3ec5270b127e}


Definition at line 10 of file board.c.

